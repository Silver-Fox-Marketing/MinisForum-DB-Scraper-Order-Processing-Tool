# MinisForum Database System - Bulletproof Package
Generated: 2025-07-24 18:37:42

## 🚀 Quick Installation

1. **Run Installation Script**
   ```cmd
   INSTALL.bat
   ```

2. **Import Your First CSV**
   ```cmd
   python scripts\csv_importer_complete.py C:\path\to\complete_data.csv
   ```

3. **Create Order Processing Job**
   ```cmd
   python scripts\order_processing_integration.py create-job --dealership "BMW of West St. Louis" --job-type premium
   ```

4. **Validate QR Files**
   ```cmd
   python scripts\order_processing_integration.py validate-qr --dealership "BMW of West St. Louis"
   ```

5. **Export Data**
   ```cmd
   python scripts\data_exporter.py --all --output C:\exports\today.csv
   ```

6. **Test Integration**
   ```cmd
   python scripts\test_order_processing_integration.py
   ```

## 📋 What's Included

### SQL Files
- `01_create_database.sql` - Database creation
- `02_create_tables.sql` - Table schemas with indexes
- `03_initial_dealership_configs.sql` - All 40 dealership configurations
- `04_performance_settings.sql` - PostgreSQL optimization

### Python Scripts
- `csv_importer_complete.py` - Main CSV import with dealership filtering
- `data_exporter.py` - Data export functionality
- `order_processing_integration.py` - **NEW** Order processing API and QR management
- `test_order_processing_integration.py` - **NEW** Integration test suite
- `database_connection.py` - Database connection management
- `database_config.py` - Configuration settings
- `requirements.txt` - Python dependencies

### Features
- ✅ Bulletproof PostgreSQL integration
- ✅ All 40 dealership configurations with filtering rules
- ✅ **Complete order processing integration** with job management
- ✅ **QR code file tracking and validation**
- ✅ **Adobe Illustrator workflow integration**
- ✅ **Database views and monitoring**
- ✅ Comprehensive error handling
- ✅ Performance optimized

## 🏗️ Database Structure

### Core Tables
1. **raw_vehicle_data** - Audit trail of all scraped data
2. **normalized_vehicle_data** - Processed, clean vehicle data
3. **vin_history** - VIN tracking across dealerships
4. **dealership_configs** - Business rules and filtering

### Order Processing Tables *(NEW)*
5. **order_processing_jobs** - Job tracking and status management
6. **qr_file_tracking** - QR code file validation and paths
7. **export_history** - Export audit trail and file management
8. **order_processing_config** - Job type configurations and templates

### Dealership Configurations
Each dealership has configurable:
- **Filtering Rules**: Exclude conditions, price ranges, year limits
- **Output Rules**: Sort order, format preferences, QR inclusion
- **QR Output Paths**: Custom directory structure

## 🔧 Configuration Examples

### Filtering Rules JSON
```json
{
    "exclude_conditions": ["offlot"],
    "require_stock": true,
    "min_price": 0,
    "year_min": 2020,
    "exclude_makes": ["Oldsmobile"],
    "include_only_makes": ["BMW", "Mercedes"]
}
```

### Output Rules JSON
```json
{
    "include_qr": true,
    "format": "premium",
    "sort_by": ["model", "year"],
    "fields": ["vin", "stock", "year", "make", "model", "price"]
}
```

## 🚨 Troubleshooting

### Common Issues
1. **PostgreSQL Connection Failed**
   - Verify PostgreSQL 16 is running
   - Check password is correct
   - Ensure port 5432 is available

2. **CSV Import Errors**
   - Verify CSV has required columns: vin, stock_number, dealer_name
   - Check file encoding (should be UTF-8)
   - Ensure dealership names match config exactly

3. **Performance Issues**
   - Run VACUUM ANALYZE after large imports
   - Check disk space (>2GB recommended)
   - Verify indexes are created

### Support
For technical support, contact Silver Fox Marketing development team.

## 📊 System Requirements
- Windows 10/11
- PostgreSQL 16
- Python 3.8+
- 4GB RAM minimum
- 10GB disk space recommended

## 🔒 Security Notes
- Database password should be strong (12+ characters)
- Regular backups recommended
- QR code directories should have proper permissions

---
**Silver Fox Marketing - Automotive Database System**
*Generated by Claude Assistant - 2025*
